fmu_files: # list of fmu files
  ["FMUs/LOC_CNTRL_custom_linux.fmu",
   "FMUs/LOC_SYSTEM_linux.fmu"]

tests:

  test02:
    timestep: 1     # seconds, communication timestep
    timing: "real_time" # simulation_time or real_time 
    stop_time: 20.0 # seconds 
    save_logs: true
    initial_system_state:

      LOC_SYSTEM:
        timestep: 0.2
        INPUT_temperature_cold_circuit_inlet: 1 
        INPUT_massflow_cold_circuit: 1
        INPUT_engine_load_0_1: 1
        INPUT_control_valve_position: 0 # CONRROLLED VARIABLE

      LOC_CNTRL_v2_customPI:
        timestep: 0.5
        SETPOINT_temperature_lube_oil: 2
        INPUT_temperature_lube_oil: 10

    start_readings_conditions: 
      condition_01: { 
        system_value: {
          fmu: LOC_CNTRL_v2_customPI, 
          variable: OUTPUT_control_valve_position
          }, 
          operator: ">", 
          target: 0.20 
        }

      # condition_01: "LOC_CNTRL_v2_customPI.OUTPUT_control_valve_position > 0.20"
      # condition_02: "LOC_CNTRL_v2_customPI.OUTPUT_control_valve_position > 0.201"
    system_loop:
      - from: LOC_SYSTEM.OUTPUT_temperature_cold_circuit_outlet
        to:   LOC_CNTRL_v2_customPI.INPUT_temperature_lube_oil
      
      - from: LOC_CNTRL_v2_customPI.OUTPUT_control_valve_position
        to:   LOC_SYSTEM.INPUT_control_valve_position

    ################# evaluation #################
    evaluation: 
      eval_1: {system_value: {
        fmu: LOC_CNTRL_v2_customPI, 
        variable: OUTPUT_control_valve_position}, 
        operator: "<", 
        target: 0.1 }
    
      eval_2: {system_value: {  
        fmu: LOC_CNTRL_v2_customPI, 
        variable: OUTPUT_control_valve_position}, 
        operator: ">", 
        target: 0.1 }

      eval_3: {system_value: {  
        fmu: LOC_SYSTEM, 
        variable: OUTPUT_temperature_cold_circuit_outlet}, 
        operator: ">", 
        target: 64 }

      eval_4: {system_value: {  
        fmu: LOC_SYSTEM, 
        variable: OUTPUT_temperature_lube_oil}, 
        operator: ">", 
        target: 70 }

  test03:
    save_logs: false
    timestep: 0.1     # seconds
    timing: "simulation_time" # simulation_time or real_time 
    stop_time: 20.0 # seconds 

    initial_system_state:

      LOC_SYSTEM:
        timestep: 0.1
        INPUT_temperature_cold_circuit_inlet: 1 
        INPUT_massflow_cold_circuit: 1
        INPUT_engine_load_0_1: 1
        INPUT_control_valve_position: 0 # CONRROLLED VARIABLE

      LOC_CNTRL_v2_customPI:
        timestep: 0.5
        SETPOINT_temperature_lube_oil: 2
        INPUT_temperature_lube_oil: 10

    start_readings_conditions: 
      condition_01: { 
        system_value: {
          fmu: LOC_CNTRL_v2_customPI, 
          variable: OUTPUT_control_valve_position
          }, 
          operator: ">", 
          target: 0.20 
        }
      # condition_01: "LOC_CNTRL_v2_customPI.OUTPUT_control_valve_position > 0.20"
      # condition_02: "LOC_CNTRL_v2_customPI.OUTPUT_control_valve_position > 0.201"
    system_loop:
      - from: LOC_SYSTEM.OUTPUT_temperature_lube_oil
        to:   LOC_CNTRL_v2_customPI.INPUT_temperature_lube_oil
      
      - from: LOC_CNTRL_v2_customPI.OUTPUT_control_valve_position
        to:   LOC_SYSTEM.INPUT_control_valve_position

    ################# evaluation #################
    evaluation: 
      eval_1: {system_value: {
        fmu: LOC_CNTRL_v2_customPI, 
        variable: OUTPUT_control_valve_position}, 
        operator: "<", 
        target: 0.1 }
    
      eval_2: {system_value: {  
        fmu: LOC_CNTRL_v2_customPI, 
        variable: OUTPUT_control_valve_position}, 
        operator: ">", 
        target: 0.1 }

      eval_3: {system_value: {  
        fmu: LOC_SYSTEM, 
        variable: OUTPUT_temperature_cold_circuit_outlet}, 
        operator: ">", 
        target: 64 }

      eval_4: {system_value: {  
        fmu: LOC_SYSTEM, 
        variable: OUTPUT_temperature_lube_oil}, 
        operator: ">", 
        target: 70 }

